<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Redefine 主题使用指南</title>
    <url>/2022/09/28/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a class="link"   href="https://hexo.io/" >Hexo <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>! This is your very first post. Check <a class="link"   href="https://hexo.io/docs/" >documentation <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> for more info. If you get any problems when using Hexo, you can find the answer in <a class="link"   href="https://hexo.io/docs/troubleshooting.html" >troubleshooting <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> or you can ask me on <a class="link"   href="https://github.com/hexojs/hexo/issues" >GitHub <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure></div>

<p>More info: <a class="link"   href="https://hexo.io/docs/writing.html" >Writing <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure></div>

<p>More info: <a class="link"   href="https://hexo.io/docs/server.html" >Server <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure></div>

<p>More info: <a class="link"   href="https://hexo.io/docs/generating.html" >Generating <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure></div>

<p>More info: <a class="link"   href="https://hexo.io/docs/one-command-deployment.html" >Deployment <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
  </entry>
  <entry>
    <title>demo111</title>
    <url>/2023/07/30/demo01/</url>
    <content><![CDATA[<h1 id="h1"><a href="#h1" class="headerlink" title="h1"></a>h1</h1><h2 id="h2"><a href="#h2" class="headerlink" title="h2"></a>h2</h2><h3 id="h3"><a href="#h3" class="headerlink" title="h3"></a>h3</h3><h4 id="h4"><a href="#h4" class="headerlink" title="h4"></a>h4</h4><p>caonimade<br>caonasdasasdawdawdaw</p>
<p><br><br><br>今天吃什么<br>我不知道啊</p>
<p>love is <strong>shit</strong></p>
<p>love is <em>hurt</em></p>
<p>love is <em><strong>shit</strong></em></p>
<blockquote>
<p>不知道吃什么</p>
</blockquote>
<blockquote>
<p>今天天气</p>
<blockquote>
<p>不咋地</p>
</blockquote>
</blockquote>
<blockquote>
<p>###大大大</p>
<ul>
<li>this is my dick</li>
<li>hhhaha</li>
</ul>
<p><em>shit</em></p>
</blockquote>
<ol>
<li><p>Open the file containing the Linux mascot.</p>
</li>
<li><p>Marvel at its beauty.</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/avatar.jpg"
                     
                ></p>
</li>
<li><p>Close the file.</p>
</li>
</ol>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">sdasd</span><br></pre></td></tr></table></figure></div>

<div class="highlight-container" data-rel="Json"><figure class="iseeu highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;firstName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;John&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;lastName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Smith&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="number">25</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div>

<ul>
<li><input checked="" disabled="" type="checkbox"> Write the press release</li>
<li><input disabled="" type="checkbox"> Update the website</li>
<li><input disabled="" type="checkbox"> Contact the media</li>
</ul>
<p>:cupid:<br>:star:</p>
<h1 id="✅"><a href="#✅" class="headerlink" title="✅"></a>✅</h1><p><a class="link"   href="https://www.baidu.com/" >dada <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>democat</category>
      </categories>
      <tags>
        <tag>demo</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQL进阶-MVCC</title>
    <url>/2023/09/06/MySQL/MVCC/</url>
    <content><![CDATA[<h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><h3 id="1-当前读"><a href="#1-当前读" class="headerlink" title="1.当前读"></a>1.当前读</h3><p>当前读就是读取记录的最新版本，读取时还要加上锁，导致其他并发事务无法访问该记录，从而阻塞其他并发事务，因此，其并发度最低。</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t <span class="keyword">where</span> ? lock <span class="keyword">in</span> share mode;</span><br></pre></td></tr></table></figure></div>

<h3 id="2-快照读"><a href="#2-快照读" class="headerlink" title="2.快照读"></a>2.快照读</h3><p>快照读读取的是记录的可见版本（不一定是最新的），这个读取是基于快照的，即不加锁的。快照读不依赖事务的状态，也不依赖事务的隔离级别，因此，其并发性能最好，但是，其读取的数据可能是过时的。</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t <span class="keyword">where</span> ?;</span><br></pre></td></tr></table></figure></div>

<h3 id="3-MVCC"><a href="#3-MVCC" class="headerlink" title="3.MVCC"></a>3.MVCC</h3><p>维护一个数据的多个版本，使得读写没有冲突。其具体实现，依赖于数据库记录中的三个隐字段、undo日志、ReadView。</p>
<div class="note-large default"><div class="notel-title"><i class="notel-icon fa-solid fa-lightbulb-on"></i><p>实现原理</p>
</div><div class="notel-content"><ul>
<li>隐藏字段<br>在每行记录后添加两个隐藏列，分别是<br>DB_TRX_ID：事务ID<br>DB_ROLL_PTR：回滚指针指向记录的上一个版本，用于配合undo log，指向上一个版本。<br>DB_ROW_ID：隐藏主键，用于在undo log中定位记录，如果表中没有主键，则会生成一个隐藏的自增ID。</li>
<li>undo日志<br>在修改操作时，不仅记录当前数据的日志，还要记录修改前的日志。修改时记录当前的数据到undolog<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/MySQL/undolog.jpg"
                      alt="undo log"
                ></li>
<li>ReadView<br>ReadView记录了系统当前活跃事务的ID列表,包含一下四个字段:<blockquote>
<ol>
<li>m_ids:当前活跃的事务ID集合</li>
<li>min_trx_id:最小活跃事务ID</li>
<li>max_trx_id:预分配事务ID,当前最大事务+1（因为事务ID是自增的）</li>
<li>creator_trx_id:ReadView创建者的事务ID</li>
</ol>
</blockquote>
</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/MySQL/readView.jpg"
                      alt="readView"
                ></p>
</div></div>

<ul>
<li>在RC隔离级别下的执行过程<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/MySQL/RC-.jpg"
                      alt="readView"
                ></li>
</ul>
<hr>
<h3 id="4-事务隔离与一致原理"><a href="#4-事务隔离与一致原理" class="headerlink" title="4.事务隔离与一致原理"></a>4.事务隔离与一致原理</h3><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/%5Cimages%5CMySQL%5C%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E4%B8%8E%E4%B8%80%E8%87%B4%E5%8E%9F%E7%90%86.jpg"
                      alt="readView"
                ></p>
<div class="note-large default"><div class="notel-title"><p>🔚总结</p>
</div><div class="notel-content"><ul>
<li>MVCC+锁实现隔离</li>
<li>redolog实现持久化+undolog实现回滚&#x3D;一致性<blockquote>
<p>redolog（重做日志）是数据库中的一种日志文件，用于记录数据库中发生的所有更改操作，以便在发生故障时进行恢复。它记录了所有已提交的事务所做的更改，以及在故障恢复期间未提交的事务所做的更改。<br>undolog（撤消日志）是数据库中的另一种日志文件，用于记录在事务回滚期间需要撤消的更改操作。当需要回滚一个事务时，数据库会使用undolog来撤消该事务所做的更改，以便将数据库恢复到回滚之前的状态。</p>
</blockquote>
</li>
</ul>
</div></div>

]]></content>
      <categories>
        <category>JAVA</category>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQL进阶-索引</title>
    <url>/2023/09/07/MySQL/%E7%B4%A2%E5%BC%95/</url>
    <content><![CDATA[<h3 id="1-基本语法"><a href="#1-基本语法" class="headerlink" title="1.基本语法"></a>1.基本语法</h3><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> index 索引名 <span class="keyword">on</span> 表名(字段名)</span><br><span class="line"><span class="keyword">drop</span> index 索引名 <span class="keyword">on</span> 表名</span><br><span class="line"><span class="keyword">show</span> index <span class="keyword">from</span> 表名</span><br></pre></td></tr></table></figure></div>

<h3 id="2-索引结构"><a href="#2-索引结构" class="headerlink" title="2.索引结构"></a>2.索引结构</h3><p>由存储引擎实现，包括：</p>
<ul>
<li>B+tree索引<blockquote>
<p>所有元素都会出现在叶子结点，非叶结点起索引作用，叶子结点之间用指针连接。</p>
</blockquote>
</li>
<li>hash索引，不支持范围查找</li>
<li>FullText索引</li>
<li>空间数据索引</li>
</ul>
<h3 id="3-索引分类"><a href="#3-索引分类" class="headerlink" title="3.索引分类"></a>3.索引分类</h3><ul>
<li>主键索引</li>
<li>唯一索引 避免某数据列中的值重复</li>
<li>普通索引</li>
<li>全文索引<br>根据存储形式又分为：</li>
<li>聚集索引（聚簇索引） 数据与索引存在一块 只会有一个</li>
<li>二级索引 数据与索引分开存储 存主键<div class="note note"><p>若存在主键 主键索引就是聚集索引<br>若不存在主键 使用第一个唯一索引作为聚集索引<br>若都无 INNODB自动生成一个rowid作为隐藏的聚集索引</p>
</div></li>
<li>覆盖索引 要查的数据列正好有索引 无需回表</li>
<li>联合索引 使用表中的多个字段创建索引<blockquote>
<p>在使用联合索引时，MySQL 会根据联合索引中的字段顺序，从左到右依次到查询条件中去匹配，如果查询条件中存在与联合索引中最左侧字段相匹配的字段，则就会使用该字段过滤一批数据，直至联合索引中全部字段匹配完成</p>
</blockquote>
</li>
</ul>
<h3 id="4-性能分析"><a href="#4-性能分析" class="headerlink" title="4.性能分析"></a>4.性能分析</h3><h4 id="4-1-查看执行频次"><a href="#4-1-查看执行频次" class="headerlink" title="4.1 查看执行频次"></a>4.1 查看执行频次</h4><div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">global</span> status <span class="keyword">like</span> <span class="string">&#x27;Com_______&#x27;</span>;</span><br></pre></td></tr></table></figure></div>

<h4 id="4-2-慢查询日志"><a href="#4-2-慢查询日志" class="headerlink" title="4.2 慢查询日志"></a>4.2 慢查询日志</h4><p>定位sql语句进行优化</p>
<ul>
<li>开启慢查询日志<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">set</span> <span class="keyword">global</span> slow_query_log<span class="operator">=</span><span class="number">1</span>;        </span><br><span class="line">```     </span><br><span class="line"><span class="operator">-</span> 查看慢查询日志            </span><br><span class="line"><span class="operator">-</span> 设置慢查询日志的阈值              </span><br><span class="line">```<span class="keyword">sql</span>                                </span><br><span class="line"><span class="keyword">set</span> <span class="keyword">global</span> long_query_time<span class="operator">=</span><span class="number">1</span>;             </span><br></pre></td></tr></table></figure></div></li>
</ul>
<h4 id="4-3-profiling"><a href="#4-3-profiling" class="headerlink" title="4.3 profiling"></a>4.3 profiling</h4><p>用来记录每一句sql执行信息 需要手动打开</p>
<h4 id="4-4-explain"><a href="#4-4-explain" class="headerlink" title="4.4 explain"></a>4.4 explain</h4><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/mysql/explain.jpg"
                      alt="explain"
                ></p>
<div class="note default"><p>type: 性能指标</p>
</div>

<h3 id="5-索引使用原则"><a href="#5-索引使用原则" class="headerlink" title="5. 索引使用原则"></a>5. 索引使用原则</h3><div class="note-large default"><div class="notel-title"><p>Warning</p>
</div><div class="notel-content"><ul>
<li>被频繁更新的字段应该慎重建立索引</li>
<li>尽可能的考虑建立联合索引而不是单列索引</li>
<li>冗余索引指的是索引的功能相同，能够命中索引(a, b)就肯定能命中索引(a) ，那么索引(a)就是冗余索引。</li>
</ul>
</div></div>

<h3 id="6-索引失效"><a href="#6-索引失效" class="headerlink" title="6. 索引失效"></a>6. 索引失效</h3><p>最左匹配：查询条件中要有联合索引最左边的字段，否则无法使用索引。</p>
<ul>
<li>范围查询：尽量使用大于等于否则右边条件失效</li>
<li>缺失字段：索引会失效</li>
<li>参与运算</li>
<li>字符串不加引号</li>
<li>模糊查询 xx% 不会失效 %xx失效 前面加%就会失效</li>
<li>or 前后都要有索引</li>
<li>全盘扫描效率大于索引 则索引失效</li>
</ul>
<h3 id="7-索引使用"><a href="#7-索引使用" class="headerlink" title="7. 索引使用"></a>7. 索引使用</h3><ul>
<li>前缀索引 当为一个字符串长度较长的字段建立索引时，可以取前一部分建立索引，这样可以大大节约索引空间，从而提高索引效率。<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> table_name <span class="keyword">add</span> index index_name(<span class="keyword">column</span>(n))</span><br></pre></td></tr></table></figure></div>
至于前缀长度取到多少，可以使用<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="keyword">distinct</span> <span class="keyword">left</span>(<span class="keyword">column</span>, 长度))<span class="operator">/</span><span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> table_name;</span><br></pre></td></tr></table></figure></div>
这个比例可以用来衡量前缀索引的合理性。</li>
<li>单列索引VS联合索引<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/images/mysql/%E8%81%94%E5%90%88%E7%B4%A2%E5%BC%95.jpg"
                      alt="联合索引"
                ></li>
<li>覆盖索引 无需回表查询</li>
</ul>
]]></content>
      <categories>
        <category>JAVA</category>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>奔赴</title>
    <url>/2023/09/07/Some%20to%20say/dis_break_01/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>Self</category>
      </categories>
      <tags>
        <tag>Tour</tag>
      </tags>
  </entry>
</search>
